<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1030px" height="498px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36&quot; version=&quot;8.6.8&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;303d8408-dd25-f5b1-ecf1-fe5e2f111b2a&quot; name=&quot;CommandBase-State&quot;&gt;7Vptj6M2EP41kdoPF5m3JHzc5LJ3lVr1tFup10+VAw5w6+DImN2kv74GbF5sQgh5u1vdflkYjwczfp6Z8ZCRtdjsPlG4Df8gPsIjE/i7kfVxZJqGbU74v0yyLyQT1ykEAY18oVQJnqP/kBACIU0jHyUNRUYIZtG2KfRIHCOPNWSQUvLWVFsT3HzqFgZIEzx7EOvSvyOfhUJqTNxq4DOKglA8emZOi4EV9F4CStJYPG9kWuv8rxjeQGlLvGgSQp+81UTWcmQtKCGsuNrsFghnvpVuK+Y9Hhgt101RzHpNEOt4hTgV756wzzD2+cJe0Hi13CEvZYhr5IPgL8rVzAnmxucryq+C7KoxZZ4m+1L/EeKkZYJ4ebaXDkc+97+4JZSFJCAxxMtKOs+dirJlc9PzkG0wvzT45TfE2F5ACKaMcFFl4XdCtkJPd43wVkJS6ol1mAJskAZIaImdzVZYmybc+QmRDWI0e2GKMGTRaxNBUAAxKPWqzeAXYj/a98bUtkZ3G8acEqjpEL4P22w84W/Bnhlk2fg6wnhBMKH5RAvkf/nWUfKCaiPrtRg56K9XRBnadfpCjNozMBbEF4HAFLdvFassAcGwxicpO8d9xuy60C70v1McT3UcG/cDsq3txGMUR0n4y/LfBdlsuIOfUJJituCJZLyAscfnI//XSwSKvl7lzqT7r9mkMceouP9HGEG7iH2Vivw6l4+nmd63dLOV64lJnC3Ah0mYPz9Tx3CF8LzMCg2i5XmBU5PErI2axVRCfUTlsHjCUAhItaMQEPz9AMa2ORO5vDcshLkvJOKrK205zqQRCQxb4XixdjGrnrIUQxPLUYKKZqp45w5TUpGs1wlq6ORYLj3RC95TDd2/xRHTkFvhMsPFWxgx9LyF+W698SqqGQwg9QRobaBH7ww43vWjt+5oWbbUwncpq8dvdUMGRQ29NOmIGh85M+4TMIxGtBg7fflptMVo99IxOp/6QCnc1xS2GQ2Sw1y1gNnM2lOlijyib1tA2eliBUMZ1lIKdaZyWXVyQhigRxIvFf98qt30z1HllJuhr5Fjqtx1QSj2zhXXheLUOQ2Kqv7FoWhoUCzB8OOH/NlM8Z5xw4Avg1/NtVlUfwdeBXd0ql57DwhSNYdmrx15ED/gKIi5bEUYI5s88PgPWeslM7JFcSERvp9pLj5WySphpy1enRuKtNhhu0qsmZ1aVx4yZPardYfEI+e01KgkvKOdmztXU8VZTBy/xJGrPIGpebBXriv7iQNaPNWxyHAdQaxzj0UT5Vg0GXosmjYNmc5dD0WyA/xecAk6cWmquOwFRZnwzoMimDruRaBo2+p5z3IHgtECChhVQzcGo35E/y6PkjLAtfWewOjk3lMvEJ5zCq21iVzg/IyHXXWYDsGnNI6jONBg9sPVt3qjqHT2TRpFeqN/AHWvXOJq9WyLx/Vu/c8SN0sm1ypxL/IFp3eQL4sFZ2LVYrkxBrJ4+IJoxP2CaL3eaCmKp85JsDradDwAtVq1q+72B7nbF4bj4ILDUdo+ljwXHcH1qe0oB1jN51jd7ShHyUKn6kt+travrpSqrO7SPa5KJcGkhTl6ADXGHSqqbse1LuLUiFin4XBKtVTxhewulDLUbpNkxqmU4lhtGur5le1USpVf7+Rz3G6KlJlmqL59B0rp1d/5lDrcd34XvGqrino0Zq7FK9du2h3MKwOoX8uuRCxtxUeIYgDDOXPC9anFb6tfxxXq1U8QreX/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g transform="translate(0.5,0.5)"><path d="M 460.5 30 L 460.5 88.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 460.5 93.88 L 457 86.88 L 460.5 88.63 L 464 86.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(386.5,50.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="148" height="24" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">stHandshake.bExecute = True<br />stHandshake.bBusy = False<br /></div></div></foreignObject><text x="74" y="18" fill="#000000" text-anchor="middle" font-size="11px" font-family="Helvetica">stHandshake.bExecute = True&lt;br&gt;stHandshake.bBusy = False&lt;br&gt;</text></switch></g><ellipse cx="461" cy="15" rx="11" ry="11" fill="#000000" stroke="#ff0000" pointer-events="none"/><path d="M 460.5 135 L 460.5 218.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 460.5 223.88 L 457 216.88 L 460.5 218.63 L 464 216.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(386.5,167.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="148" height="24" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">stHandshake.bExecute = True<br />stHandshake.bBusy = True</div></div></foreignObject><text x="74" y="18" fill="#000000" text-anchor="middle" font-size="11px" font-family="Helvetica">stHandshake.bExecute = True&lt;br&gt;stHandshake.bBusy = True</text></switch></g><path d="M 521 125 L 877 125 L 877 378.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 877 383.88 L 873.5 376.88 L 877 378.63 L 880.5 376.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="590" y="119" width="215" height="14" stroke-width="0"/><text x="696.5" y="128">Finish(E_CommandResultCode.Cancelled);</text></g><rect x="400.5" y="95" width="120" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ff0000" pointer-events="none"/><g transform="translate(452.5,108.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="16" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 18px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Init</div></div></foreignObject><text x="8" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Init</text></switch></g><path d="M 400.5 245 L 267 245 L 267 405 L 171.37 405" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 166.12 405 L 173.12 401.5 L 171.37 405 L 173.12 408.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="171" y="304" width="193" height="14" stroke-width="0"/><text x="266.5" y="312.5">Finish(E_CommandResultCode.Done);</text></g><path d="M 520.5 245 L 717 245 L 717 405 L 840.63 405" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 845.88 405 L 838.88 408.5 L 840.63 405 L 838.88 401.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="610" y="266" width="215" height="53" stroke-width="0"/><text x="716.5" y="268.5">stHandshake.bExecute = False</text><text x="716.5" y="281.5">stHandshake.bBusy = True</text><text x="716.5" y="294.5">OR</text><text x="716.5" y="307.5">Finish(E_CommandResultCode.Cancelled);</text></g><rect x="847" y="385" width="120" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ff0000" pointer-events="none"/><g transform="translate(879.5,398.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="54" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 54px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Cancelled</div></div></foreignObject><text x="27" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Cancelled</text></switch></g><rect x="45" y="385" width="120" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ff0000" pointer-events="none"/><g transform="translate(90.5,398.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 30px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Done</div></div></foreignObject><text x="14" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Done</text></switch></g><path d="M 937 385 L 937 105 L 527.37 105" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 522.12 105 L 529.12 101.5 L 527.37 105 L 529.12 108.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="863" y="93" width="150" height="27" stroke-width="0"/><text x="936.5" y="101.5">stHandshake.bExecute = True</text><text x="936.5" y="114.5">stHandshake.bBusy = False</text></g><path d="M 75 385 L 75 105 L 394.63 105" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 399.88 105 L 392.88 108.5 L 394.63 105 L 392.88 101.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="1" y="93" width="150" height="27" stroke-width="0"/><text x="74.5" y="101.5">stHandshake.bExecute = True</text><text x="74.5" y="114.5">stHandshake.bBusy = False</text></g><path d="M 401 125 L 135 125 L 135 378.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 135 383.88 L 131.5 376.88 L 135 378.63 L 138.5 376.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="171" y="119" width="193" height="14" stroke-width="0"/><text x="266.5" y="128">Finish(E_CommandResultCode.Done);</text></g><rect x="400.5" y="225" width="120" height="40" rx="16" ry="16" fill="#ffffc0" stroke="#ff0000" pointer-events="none"/><g transform="translate(438.5,238.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="44" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 46px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Running</div></div></foreignObject><text x="22" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Running</text></switch></g><path d="M 468 267 L 468 305 L 541 305 L 541 255 L 527.37 255" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 522.12 255 L 529.12 251.5 L 527.37 255 L 529.12 258.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="433" y="313" width="150" height="27" stroke-width="0"/><text x="506.5" y="321.5">stHandshake.bExecute = True</text><text x="506.5" y="334.5">stHandshake.bBusy = True</text></g><path d="M 105 425 L 105 465 L 185 465 L 185 415 L 171.37 415" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 166.12 415 L 173.12 411.5 L 171.37 415 L 173.12 418.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="70" y="473" width="153" height="27" stroke-width="0"/><text x="145.5" y="481.5">stHandshake.nResultCode = </text><text x="145.5" y="494.5">E_CommandResultCode.Done</text></g><path d="M 907 425 L 907 465 L 980 465 L 980 415 L 973.37 415" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 968.12 415 L 975.12 411.5 L 973.37 415 L 975.12 418.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px"><rect fill="#ffffff" stroke="none" x="855" y="473" width="176" height="27" stroke-width="0"/><text x="941.5" y="481.5">stHandshake.nResultCode = </text><text x="941.5" y="494.5">E_CommandResultCode.Cancelled</text></g></g></svg>